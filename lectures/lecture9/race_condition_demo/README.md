# Приклад стану гонитви (race condition) та введення в критичні секції

Файл [./main.c](./main.c) містить приклад коду що викликає стан гонитви де
два потоки намагаються одночасно змінити дві змінні що відповідають за баланс
двох банківських рахунків A та B.

На початку роботи програми, баланс обох рахунків складає 1000$.

Перший потік, виконує переказ 200$ з рахунку A на рахунок B.
Другий потік - навпаки.

Після закінчення роботи двох потоків, на екран виводиться поточний баланс
рахунків.

Якби потоки не конкурували один з одним за доступ до даних, то по закінченню
роботи програми обидва рахунки мали б мати баланс рівний 1000$.

Через наявність конкуренції, час від часу можна спостерігати, що баланс порушено
і на екрані з'являються числа 800$ та 1200$.

## Вирішення проблеми

В прикладі присутній закоментований код що показує використання м'ютексів
стандартної бібліотеки С11 для захисту критичної секції коду від паралельного
виконання.

## Джерела та додаткова інформація

[Стан гонитви в Wikipedia](https://uk.wikipedia.org/wiki/%D0%A1%D1%82%D0%B0%D0%BD_%D0%B3%D0%BE%D0%BD%D0%B8%D1%82%D0%B2%D0%B8)
[Критична секція в Wikipedia](https://uk.wikipedia.org/wiki/%D0%9A%D1%80%D0%B8%D1%82%D0%B8%D1%87%D0%BD%D0%B0_%D1%81%D0%B5%D0%BA%D1%86%D1%96%D1%8F)
[М'ютекс в Wikipedia](https://uk.wikipedia.org/wiki/%D0%9C%27%D1%8E%D1%82%D0%B5%D0%BA%D1%81)

Документація до методів роботи з м'ютексами стандартної бібліотеки C11:

* https://devdocs.io/c/thread/mtx_init
* https://devdocs.io/c/thread/mtx_lock
* https://devdocs.io/c/thread/mtx_unlock
* https://devdocs.io/c/thread/mtx_destroy
